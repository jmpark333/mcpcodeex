flowchart TD
    A[대용량 데이터셋<br/>100개 문서, 100KB+] --> B{기존 방식 vs MCP 방식}

    B --> C[기존 방식]
    B --> D[MCP 방식]

    C --> E[전체 데이터를<br/>컨텍스트에 포함]
    E --> F[컨텍스트 크기:<br/>~100,000+ 자]
    F --> G[토큰 사용량:<br/>~25,000+ 토큰]
    G --> H[⚠️ 컨텍스트 윈도우<br/>초과 위험]

    D --> I[1단계: 메타데이터 조회]
    I --> J[2단계: 관련 문서 ID 필터링]
    J --> K[3단계: 필요한 필드만 선택]
    K --> L[컨텍스트 크기:<br/>~1,000 자]
    L --> M[토큰 사용량:<br/>~250 토큰]
    M --> N[✅ 관련 정보만<br/>정확히 전달]

    style C fill:#ffcccc
    style D fill:#ccffcc
    style H fill:#ff9999
    style N fill:#99ff99
